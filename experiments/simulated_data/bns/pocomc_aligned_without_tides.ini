detectors=[H1, L1, V1]
duration=128.0
sampling-frequency=8192.0
maximum-frequency=2048
minimum-frequency=20

injection=True
injection-file=GW190425-like.json
injection-waveform-approximant=IMRPhenomPv2_NRTidalv2
injection-frequency-domain-source-model=lal_binary_neutron_star
gaussian-noise=True

accounting=ligo.dev.o4.cbc.pe.bilby
accounting-user=michael.williams
label=pocomc_3det_aligned_without_tides
outdir=outdir_pocomc_3det_aligned_without_tides
request-disk=4.0
request-memory=8.0
request-cpus=16

likelihood-type=bilby.gw.likelihood.roq.ROQGravitationalWaveTransient
roq-linear-matrix=roq_bases/basis_128s.hdf5
roq-quadratic-matrix=roq_bases/basis_128s.hdf5

default-prior=BNSPriorDict
deltaT=0.2
# The prior file
prior-file=bns_aligned_without_tides.prior
prior-dict=None
enforce-signal-duration=False

distance-marginalization=True
phase-marginalization=True

transfer-files=True

sampler=pocomc
sampling-seed=None
n-parallel=2
sampler-kwargs = {
    precondition=True,
    n_effective=1000,
    n_active=500,
    n_total=5000,
    n_steps=50,
    n_max_steps=500,
    flow_config={"n_transforms": 500, "n_knots": 1000, "validation_fraction": 0.2, "early_stopping": True, "n_iter_no_changes": 30, "learning_rate": 1000.0, "beta": 0.2, "max_iter": 1000, "tol": 1e-6},
    save_every=2,
    evaluate_constraints_in_prior=True,
}

waveform-generator=bilby.gw.waveform_generator.WaveformGenerator
reference-frequency=20.0
waveform-approximant=IMRPhenomPv2
catch-waveform-errors=True
pn-spin-order=-1
pn-tidal-order=-1
pn-phase-order=-1
pn-amplitude-order=0
waveform-arguments-dict=None
frequency-domain-source-model=lal_binary_black_hole
conversion-function=None
